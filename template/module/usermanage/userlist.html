<link rel="stylesheet" href="template/module/usermanage/user.css">

<div class="row pad">
    <div class="col-sm-10">
        <form class="text-right user-form" ng-submit="search()">
            <div class="form-group clearfix">
                <label class="control-label">用户姓名</label>
                <input type="text" class="form-control" id="name" name="name" ng-model="param.name">
            </div>
            <div class="form-group clearfix">
                <label class="control-label">用户名</label>
                <input type="text" class="form-control" id="loginName" name="loginName" ng-model="param.loginName">
            </div>
            <div class="form-group clearfix">
                <label class="control-label">用户类型</label>
                <select name="userType" id="userType" ng-model="param.userType"
                        ng-options="key-0 as value for (key,value) in uType" class="form-control">
                    <option value="">全部</option>
                </select>
            </div>
            <button class="chaxun btn btn-success" type="submit">查询</button>
        </form>
    </div>
    <div class="col-sm-2">
        <a ui-sref="main.usermanage.useradd" class="btn btn-success pull-right"> <i
                class="icon-user-follow m-r-sm text-md"></i>添加用户</a>
    </div>
</div>

<div class="table-responsive">

    <table class="table table-mailbox">
        <tbody>
        <tr class="unread">
            <td class="name">用户姓名</td>
            <td class="loginName">用户名</td>
            <td class="userType">用户类型</td>
            <td class="createTime">创建时间</td>
            <td class="remark">备注</td>
            <td class="opt">操作</td>
        </tr>
        <tr ng-repeat="item in pageInfo.list">
            <td class="name v-middle">{{item.name}}</td>
            <td class="loginName v-middle">{{item.loginName}}</td>
            <td class="userType v-middle">{{uType[item.userType]}}</td>
            <td class="createTime v-middle">{{item.createTime}}</td>
            <td class="remark v-middle">{{item.remark}}</td>
            <td class="opt v-middle"><a ng-click="bind_module(item.id,item.userType)" class="btn btn-default btn-sm" ng-hide="item.userFlag">未绑定</a>  <a ng-click="remove_module(item.id)" class="btn btn-default btn-sm" ng-show="item.userFlag">解除绑定</a> <a ng-click="add_module(item.id)" class="btn btn-default btn-sm">修改密码</a> <a ng-click="assign_module(item.id)" class="btn btn-default btn-sm">分配角色</a>  <a ui-sref="main.usermanage.useredit({id:item.id})" class="btn btn-primary btn-sm">编辑</a>
            <a ng-click="del(item.id)" class="btn btn-danger btn-sm">删除</a> </td>
        </tr>
        </tbody>
    </table>
    <div ng-include="'template/module/tpl/pageInfo.html'"></div>
</div>

<!-- toaster directive -->
<toaster-container toaster-options="{'position-class': 'toast-top-right', 'close-button':true}"></toaster-container>
<!-- / toaster directive -->
